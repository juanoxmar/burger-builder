(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),l=a.n(c),i=(a(77),a(8)),o=a(9),s=a(11),u=a(10),d=a(2),m=a.n(d),p=a(7),h=a(33),v=a(3),g=a(54),b=a.n(g),f=a(18),E=a.n(f),_=function(e){var t=null;switch(e.type){case"bread-bottom":t=r.a.createElement("div",{className:E.a.BreadBottom});break;case"bread-top":t=r.a.createElement("div",{className:E.a.BreadTop},r.a.createElement("div",{className:E.a.Seeds1}),r.a.createElement("div",{className:E.a.Seeds2}));break;case"meat":t=r.a.createElement("div",{className:E.a.Meat});break;case"cheese":t=r.a.createElement("div",{className:E.a.Cheese});break;case"lettuce":t=r.a.createElement("div",{className:E.a.Lettuce});break;case"bacon":t=r.a.createElement("div",{className:E.a.Bacon});break;default:t=null}return t},y=function(e){var t=e.ingredients,a=Object.keys(t).map((function(e){return Object(v.a)(Array(t[e])).map((function(t,a){return r.a.createElement(_,{key:e+a,type:e})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===a.length&&(a=r.a.createElement("p",null,"Please Start adding ingredients!")),r.a.createElement("div",{className:b.a.Burger},r.a.createElement(_,{type:"bread-top"}),a,r.a.createElement(_,{type:"bread-bottom"}))},k=a(30),C=a.n(k),O=function(e){var t=e.label,a=e.added,n=e.removed,c=e.disabled;return r.a.createElement("div",{className:C.a.BuildControl},r.a.createElement("div",{className:C.a.Label},t),r.a.createElement("button",{className:C.a.Less,onClick:n,disabled:c},"Less"),r.a.createElement("button",{className:C.a.More,onClick:a},"More"))},j=a(37),B=a.n(j),N=[{label:"Lettuce",type:"lettuce"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],w=function(e){var t=e.ingredientAdded,a=e.ingredientRemoved,n=e.disabled,c=e.price,l=e.purchaseable,i=e.ordered;return r.a.createElement("div",{className:B.a.BuildControls},r.a.createElement("p",null,"Current Price: ",r.a.createElement("strong",null,"$",c.toFixed(2))),N.map((function(e){return r.a.createElement(O,{key:e.label,label:e.label,added:function(){return t(e.type)},removed:function(){return a(e.type)},disabled:n[e.type]})})),r.a.createElement("button",{className:B.a.OrderButton,disabled:!l,onClick:i},"ORDER NOW"))},S=a(55),I=a.n(S),x=a(56),D=a.n(x),L=function(e){var t=e.show,a=e.clicked;return t?r.a.createElement("div",{className:D.a.Backdrop,onClick:a}):null},T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:I.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(r.a.Component),P=a(38),F=a.n(P),H=function(e){var t=e.children,a=e.btnType,n=e.clicked;return r.a.createElement("button",{className:[F.a.Button,F.a[a]].join(" "),onClick:n},t)},M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t){return r.a.createElement("li",{key:t},t,": ",e.props.ingredients[t])}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Order"),r.a.createElement("p",null,"Delicious Burger with the following ingredients:"),r.a.createElement("ul",null,t),r.a.createElement("p",null,r.a.createElement("strong",null,"Total Price: $",this.props.price.toFixed(2))),r.a.createElement("p",null,"Continue Checkout?"),r.a.createElement(H,{clicked:this.props.purchaseCancel,btnType:"Danger"},"CANCEL"),r.a.createElement(H,{clicked:this.props.purchaseContinue,btnType:"Success"},"CONTINUE"))}}]),a}(r.a.Component),A=a(57),q=a.n(A).a.create({baseURL:"https://burger-builder-j58j8.firebaseio.com"}),U=a(58),R=a.n(U),X=function(){return r.a.createElement("div",{className:R.a.Loader},"Loading...")},Y=function(e,t){return function(a){Object(s.a)(c,a);var n=Object(u.a)(c);function c(e){var t;return Object(i.a)(this,c),(t=n.call(this,e)).reqInter=void 0,t.resInter=void 0,t.errorConfirmedHandler=function(){t.setState({error:null})},t.state={error:null},t}return Object(o.a)(c,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.reqInter=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInter=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInter),t.interceptors.response.eject(this.resInter)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),r.a.createElement(e,this.props))}}]),c}(r.a.Component)},z={lettuce:.25,bacon:1,cheese:.75,meat:1.5},K=Y(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ingredients:null,totalPrice:8,purchaseable:!1,purchasing:!1,loading:!1,error:!1},e.updatePurchaseState=function(t){var a=Object.keys(t).map((function(e){return t[e]})).reduce((function(e,t){return e+t}),0);e.setState({purchaseable:a>0})},e.addIngredient=function(t){var a=e.state.ingredients[t]+1,n=Object(h.a)({},e.state.ingredients);n[t]=a;var r=z[t],c=e.state.totalPrice+r;e.setState({totalPrice:c,ingredients:n}),e.updatePurchaseState(n)},e.removeIngredient=function(t){var a=e.state.ingredients[t];if(!(a<=0)){var n=a-1,r=Object(h.a)({},e.state.ingredients);r[t]=n;var c=z[t],l=e.state.totalPrice-c;e.setState({totalPrice:l,ingredients:r}),e.updatePurchaseState(r)}},e.purchaseHandler=function(){e.setState({purchasing:!e.state.purchasing})},e.purchaseContineHandler=function(){var t=[];for(var a in e.state.ingredients)t.push("".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(e.state.ingredients[a])));t.push("price=".concat(e.state.totalPrice.toFixed(2)));var n=t.join("&");e.props.history.push({pathname:"/checkout",search:"?"+n})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("/ingredients.json");case 3:t=e.sent,this.setState({ingredients:{lettuce:t.data.lettuce,bacon:t.data.bacon,cheese:t.data.cheese,meat:t.data.meat}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:!0}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=Object(h.a)({},this.state.ingredients),a={lettuce:!1,bacon:!1,cheese:!1,meat:!1};for(var n in t)a[n]=t[n]<=0;var c=this.state.error?r.a.createElement("p",null,"Ingredients can't be loaded!"):r.a.createElement(X,null);return this.state.ingredients&&(e=r.a.createElement(M,{ingredients:this.state.ingredients,purchaseCancel:this.purchaseHandler,purchaseContinue:this.purchaseContineHandler,price:this.state.totalPrice}),c=r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{ingredients:this.state.ingredients}),r.a.createElement(w,{ingredientAdded:this.addIngredient,ingredientRemoved:this.removeIngredient,disabled:a,price:this.state.totalPrice,purchaseable:this.state.purchaseable,ordered:this.purchaseHandler}))),this.state.loading&&(e=r.a.createElement(X,null)),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{show:this.state.purchasing,modalClosed:this.purchaseHandler},e),c)}}]),a}(r.a.Component),q),J=a(59),W=a.n(J),Q=a(34),Z=a.n(Q),V=a(60),$=a.n(V),G=a(61),ee=a.n(G),te=function(e){var t=e.height;return r.a.createElement("div",{className:ee.a.Logo},r.a.createElement("img",{src:$.a,alt:"Burger Builder",style:{height:t}}))},ae=a(62),ne=a.n(ae),re=a(39),ce=a.n(re),le=a(27),ie=function(e){var t=e.link,a=e.children;return r.a.createElement("li",{className:ce.a.NavigationItem},r.a.createElement(le.b,{to:t,activeClassName:ce.a.active,exact:!0},a))},oe=function(){return r.a.createElement("ul",{className:ne.a.NavigationItems},r.a.createElement(ie,{link:"/"},"Burger Builder"),r.a.createElement(ie,{link:"/orders"},"Orders"))},se=a(64),ue=a.n(se),de=function(e){var t=e.click;return r.a.createElement("div",{onClick:t,className:ue.a.DrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},me=function(e){var t=e.open;return r.a.createElement("header",{className:Z.a.Toolbar},r.a.createElement(de,{click:t}),r.a.createElement("div",{className:Z.a.Logo},r.a.createElement(te,null)),r.a.createElement("nav",{className:Z.a.DesktopOnly},r.a.createElement(oe,null)))},pe=a(26),he=a.n(pe),ve=function(e){var t=e.open,a=e.closed,n=[he.a.SideDrawer,he.a.Close];return t&&(n=[he.a.SideDrawer,he.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{show:t,clicked:a}),r.a.createElement("div",{className:n.join(" ")},r.a.createElement("div",{className:he.a.Logo},r.a.createElement(te,null)),r.a.createElement("nav",null,r.a.createElement(oe,null))))},ge=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showSideDrawer:!1},e.sideDrawerCloseHandler=function(){e.setState({showSideDrawer:!1})},e.openDrawerHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{open:this.openDrawerHandler}),r.a.createElement(ve,{open:this.state.showSideDrawer,closed:this.sideDrawerCloseHandler}),r.a.createElement("main",{className:W.a.Content},this.props.children))}}]),a}(r.a.Component),be=a(31),fe=a(65),Ee=a.n(fe),_e=function(e){var t=e.ingredients,a=e.cancel,n=e.continueCheck;return r.a.createElement("div",{className:Ee.a.CheckoutSummary},r.a.createElement("h1",null,"We hope it tastes well!"),r.a.createElement("div",{style:{width:"100%",margin:"auto"}},r.a.createElement(y,{ingredients:t})),r.a.createElement(H,{btnType:"Danger",clicked:a},"CANCEL"),r.a.createElement(H,{btnType:"Success",clicked:n},"CONTINUE"))},ye=a(5),ke=a(66),Ce=a.n(ke),Oe=a(20),je=a(70),Be=a(22),Ne=a(21),we=a.n(Ne),Se=Be.a({name:Be.b().required(),email:Be.b().email().required(),address:Be.b().required(),city:Be.b().required(),zip:Be.b().required().min(5),delivery:Be.b().required()});var Ie=function(e){var t,a,n,c,l,i,o=e.ingredients,s=e.price,u=e.order,d=e.load,h=Object(Oe.c)({resolver:Object(je.a)(Se),mode:"all"}),v=h.register,g=h.handleSubmit,b=h.errors,f=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(),e.next=4,q.post("/orders.json",{customer:{name:t.name,email:t.email,address:t.address,city:t.city,zip:t.zip},ingredients:o,price:s,delivery:t.delivery});case 4:u(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:g(f),className:we.a.Input},r.a.createElement("input",{className:we.a.InputElement,type:"text",placeholder:"Name",name:"name",ref:v}),r.a.createElement("p",null,null===(t=b.name)||void 0===t?void 0:t.message),r.a.createElement("input",{className:we.a.InputElement,type:"text",placeholder:"Email",name:"email",ref:v}),r.a.createElement("p",null,null===(a=b.email)||void 0===a?void 0:a.message),r.a.createElement("input",{className:we.a.InputElement,type:"text",placeholder:"Address",name:"address",ref:v}),r.a.createElement("p",null,null===(n=b.address)||void 0===n?void 0:n.message),r.a.createElement("input",{className:we.a.InputElement,type:"text",placeholder:"City",name:"city",ref:v}),r.a.createElement("p",null,null===(c=b.city)||void 0===c?void 0:c.message),r.a.createElement("input",{className:we.a.InputElement,type:"text",placeholder:"Zip",name:"zip",ref:v}),r.a.createElement("p",null,null===(l=b.zip)||void 0===l?void 0:l.message),r.a.createElement("select",{name:"delivery",ref:v,className:we.a.InputElement},r.a.createElement("option",null),r.a.createElement("option",{value:"Fast"},"Fast"),r.a.createElement("option",{value:"Slow"},"Slow")),r.a.createElement("p",null,null===(i=b.delivery)||void 0===i?void 0:i.message),r.a.createElement("input",{type:"submit"})))},xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.orderLoad=function(){e.setState({loading:!0})},e.orderHandler=function(){e.props.history.push("/")},e}return Object(o.a)(a,[{key:"render",value:function(){var e=r.a.createElement(Ie,{ingredients:this.props.ingredients,price:this.props.totalPrice,load:this.orderLoad,order:this.orderHandler});return this.state.loading&&(e=r.a.createElement(X,null)),r.a.createElement("div",{className:Ce.a.ContactData},r.a.createElement("h4",null,"Enter Your Contact Data"),e)}}]),a}(r.a.Component),De=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={ingredients:{lettuce:0,bacon:0,cheese:0,meat:0},totalPrice:0},e.cancelHandler=function(){e.props.history.goBack()},e.continueHandler=function(){e.props.history.replace("/checkout/contact-data")},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e,t=new URLSearchParams(this.props.location.search),a={lettuce:0,bacon:0,cheese:0,meat:0},n=0,r=Object(be.a)(t.entries());try{for(r.s();!(e=r.n()).done;){var c=e.value;"price"===c[0]?n=+c[1]:a[c[0]]=+c[1]}}catch(l){r.e(l)}finally{r.f()}this.setState({ingredients:a,totalPrice:n})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_e,{ingredients:this.state.ingredients,cancel:this.cancelHandler,continueCheck:this.continueHandler}),r.a.createElement(ye.a,{path:"".concat(this.props.match.url,"/contact-data"),render:function(t){return r.a.createElement(xe,Object.assign({ingredients:e.state.ingredients,totalPrice:e.state.totalPrice},t))}}))}}]),a}(r.a.Component),Le=a(71),Te=a.n(Le),Pe=function(e){var t=e.ingredients,a=e.totalPrice,n=[];for(var c in t)n.push({name:c,amount:t[c]});var l=n.map((function(e){var t=e.name,a=e.amount;return r.a.createElement("span",{key:t,style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",border:"1px solid #eee",padding:"5px"}},t," (",a,")")}));return r.a.createElement("div",{className:Te.a.Order},r.a.createElement("p",null,"Ingredients: ",l),r.a.createElement("p",null,"Price: ",a))},Fe=Y(function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orders:[{customer:{address:{city:"",country:"",street:"",zip:""},email:"",name:""},deliveryMethod:"",ingredients:{lettuce:0,bacon:0,cheese:0,meat:0},price:0}],loading:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.prev=1,t=[],e.next=5,q.get("/orders.json");case 5:for(n in(a=e.sent).data)t.push(a.data[n]);this.setState({orders:t,loading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({loading:!1}),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.orders.map((function(e,t){return r.a.createElement(Pe,{key:t,ingredients:e.ingredients,totalPrice:e.price})}));return this.state.loading&&(e=r.a.createElement(X,null)),r.a.createElement("div",null,e)}}]),a}(r.a.Component),q),He=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(le.a,null,r.a.createElement("div",null,r.a.createElement(ge,null,r.a.createElement(ye.c,null,r.a.createElement(ye.a,{path:"/burger-builder/checkout",component:De}),r.a.createElement(ye.a,{path:"/burger-builder/orders",component:Fe}),r.a.createElement(ye.a,{path:"/burger-builder",exact:!0,component:K})))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(He,null),document.getElementById("root"))},18:function(e,t,a){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2US69",BreadTop:"BurgerIngredient_BreadTop__3Y4-R",Seeds1:"BurgerIngredient_Seeds1__J6vUJ",Seeds2:"BurgerIngredient_Seeds2__2Ylex",Meat:"BurgerIngredient_Meat__3flwI",Cheese:"BurgerIngredient_Cheese__3rOTJ",Lettuce:"BurgerIngredient_Lettuce__24-RC",Bacon:"BurgerIngredient_Bacon__1KK6n"}},21:function(e,t,a){e.exports={Input:"Form_Input__XV8gW",InputElement:"Form_InputElement__1QQ8Q"}},26:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},30:function(e,t,a){e.exports={BuildControl:"BuildControl_BuildControl__O8649",Label:"BuildControl_Label__TQkTk",Less:"BuildControl_Less__3Ttg8",More:"BuildControl_More__1MY7B"}},34:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},37:function(e,t,a){e.exports={BuildControls:"BuildControls_BuildControls__1YmbS",OrderButton:"BuildControls_OrderButton___M-Du",enable:"BuildControls_enable__9xLsD"}},38:function(e,t,a){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},39:function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},54:function(e,t,a){e.exports={Burger:"Burger_Burger__10T8F"}},55:function(e,t,a){e.exports={Modal:"Modal_Modal__1-5dN"}},56:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},58:function(e,t,a){e.exports={Loader:"Spinner_Loader__1twK-",load1:"Spinner_load1__1BXDX"}},59:function(e,t,a){e.exports={Content:"Layout_Content__PrDi6"}},60:function(e,t,a){e.exports=a.p+"static/media/burger-logo.b8503d26.png"},61:function(e,t,a){e.exports={Logo:"Logo_Logo__1N0xH"}},62:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},64:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__m405X"}},65:function(e,t,a){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__3PsXi"}},66:function(e,t,a){e.exports={ContactData:"ContactData_ContactData__20AK_",Input:"ContactData_Input__2fK5-"}},71:function(e,t,a){e.exports={Order:"Order_Order__3kYZJ"}},72:function(e,t,a){e.exports=a(100)},77:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.575eb573.chunk.js.map