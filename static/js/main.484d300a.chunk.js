(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{100:function(e,t,r){e.exports={ContactData:"ContactData_ContactData__20AK_",Input:"ContactData_Input__2fK5-"}},104:function(e,t,r){e.exports={Input:"Form_Input__XV8gW",InputElement:"Form_InputElement__1QQ8Q"}},108:function(e,t,r){e.exports={Order:"Order_Order__3kYZJ"}},120:function(e,t,r){e.exports=r(148)},125:function(e,t,r){},148:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(9),i=r.n(o),c=(r(125),r(17)),l=r(18),s=r(22),u=r(21),d=r(7),p=r(14),m=r(89),h=r.n(m),b=r(35),g=r.n(b),f=function(e){var t=null;switch(e.type){case"bread-bottom":t=n.a.createElement("div",{className:g.a.BreadBottom});break;case"bread-top":t=n.a.createElement("div",{className:g.a.BreadTop},n.a.createElement("div",{className:g.a.Seeds1}),n.a.createElement("div",{className:g.a.Seeds2}));break;case"meat":t=n.a.createElement("div",{className:g.a.Meat});break;case"cheese":t=n.a.createElement("div",{className:g.a.Cheese});break;case"lettuce":t=n.a.createElement("div",{className:g.a.Lettuce});break;case"bacon":t=n.a.createElement("div",{className:g.a.Bacon});break;default:t=null}return t},E=function(e){var t=e.ingredients,r=Object.keys(t).map((function(e){return Object(p.a)(Array(t[e])).map((function(t,r){return n.a.createElement(f,{key:e+r,type:e})}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===r.length&&(r=n.a.createElement("p",null,"Please Start adding ingredients!")),n.a.createElement("div",{className:h.a.Burger},n.a.createElement(f,{type:"bread-top"}),r,n.a.createElement(f,{type:"bread-bottom"}))},v=r(59),_=r.n(v),y=function(e){var t=e.label,r=e.added,a=e.removed,o=e.disabled;return n.a.createElement("div",{className:_.a.BuildControl},n.a.createElement("div",{className:_.a.Label},t),n.a.createElement("button",{className:_.a.Less,onClick:a,disabled:o},"Less"),n.a.createElement("button",{className:_.a.More,onClick:r},"More"))},O=r(70),k=r.n(O),S=[{label:"Lettuce",type:"lettuce"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],C=function(e){var t=e.ingredientAdded,r=e.ingredientRemoved,a=e.disabled,o=e.price,i=e.purchaseable,c=e.ordered,l=e.isAuth;return n.a.createElement("div",{className:k.a.BuildControls},n.a.createElement("p",null,"Current Price: ",n.a.createElement("strong",null,"$",o.toFixed(2))),S.map((function(e){return n.a.createElement(y,{key:e.label,label:e.label,added:function(){return t(e.type)},removed:function(){return r(e.type)},disabled:a[e.type]})})),n.a.createElement("button",{className:k.a.OrderButton,disabled:!i,onClick:c},l?"ORDER NOW":"SIGN UP TO ORDER"))},j=r(90),I=r.n(j),w=r(91),T=r.n(w),N=function(e){var t=e.show,r=e.clicked;return t?n.a.createElement("div",{className:T.a.Backdrop,onClick:r}):null},D=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"shouldComponentUpdate",value:function(e){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(N,{show:this.props.show,clicked:this.props.modalClosed}),n.a.createElement("div",{className:I.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),r}(n.a.Component),x=r(71),R=r.n(x),A=function(e){var t=e.children,r=e.btnType,a=e.clicked;return n.a.createElement("button",{className:[R.a.Button,R.a[r]].join(" "),onClick:a},t)},B=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t){return n.a.createElement("li",{key:t},t,": ",e.props.ingredients[t])}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Your Order"),n.a.createElement("p",null,"Delicious Burger with the following ingredients:"),n.a.createElement("ul",null,t),n.a.createElement("p",null,n.a.createElement("strong",null,"Total Price: $",this.props.price.toFixed(2))),n.a.createElement("p",null,"Continue Checkout?"),n.a.createElement(A,{clicked:this.props.purchaseCancel,btnType:"Danger"},"CANCEL"),n.a.createElement(A,{clicked:this.props.purchaseContinue,btnType:"Success"},"CONTINUE"))}}]),r}(n.a.Component),L=r(92),H=r.n(L),U=function(){return n.a.createElement("div",{className:H.a.Loader},"Loading...")},F=r(20),q=function(e,t){return function(r){Object(s.a)(o,r);var a=Object(u.a)(o);function o(e){var t;return Object(c.a)(this,o),(t=a.call(this,e)).reqInter=void 0,t.resInter=void 0,t.errorConfirmedHandler=function(){t.setState({error:null})},t.state={error:null},t}return Object(l.a)(o,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.reqInter=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInter=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInter),t.interceptors.response.eject(this.resInter)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{show:!!this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),n.a.createElement(e,this.props))}}]),o}(n.a.Component)},P=r(56),M=r.n(P),G=M.a.create({baseURL:"https://burger-builder-j58j8.firebaseio.com"}),z="AIzaSyCMCxIuM1NDFYM9A35GX4ELuh6B_KpKu_8",W=G,X=r(6),Y=r.n(X),K=r(16),J=function(){return function(){var e=Object(K.a)(Y.a.mark((function e(t){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("/ingredients.json");case 3:r=e.sent,t({type:"SET_INGREDIENTS",ingredients:r.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"ERR_INGREDIENTS"}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},V=function(e,t){return{type:"PURCHASE_SUCCESS",orderId:e,orderData:t}},Q=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},Z=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"LOG_OUT"}},$=function(e){return function(){var t=Object(K.a)(Y.a.mark((function t(r){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){r(Z())}),1e3*+e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(e){return{ing:{lettuce:e.burger.ingredients.lettuce,bacon:e.burger.ingredients.bacon,cheese:e.burger.ingredients.cheese,meat:e.burger.ingredients.meat},prc:e.burger.price,err:e.burger.error,isAuth:""!==e.auth.token}},te={addHandler:function(e){return function(e){return{type:"ADD_INGREDIENT",key:e}}(e)},delHandler:function(e){return function(e){return{type:"REM_INGREDIENT",key:e}}(e)},initHandler:function(){return J()}},re=Object(F.b)(ee,te)(q(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={purchaseable:!1,purchasing:!1},e.updatePurchaseState=function(t){var r=Object.keys(t).map((function(e){return t[e]})).reduce((function(e,t){return e+t}),0);e.setState({purchaseable:r>0})},e.purchaseHandler=function(){e.props.isAuth?e.setState({purchasing:!e.state.purchasing}):e.props.history.push("/burger-builder/auth")},e.purchaseContineHandler=function(){e.props.history.push({pathname:"/burger-builder/checkout"})},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.prc<=8&&this.props.initHandler(),this.props.prc>8&&!this.state.purchaseable&&this.setState({purchaseable:!0})}},{key:"componentDidUpdate",value:function(){this.props.prc>8&&!this.state.purchaseable?this.setState({purchaseable:!0}):8===this.props.prc&&this.state.purchaseable&&this.setState({purchaseable:!1})}},{key:"render",value:function(){var e,t,r=Object(d.a)({},this.props.ing),a={lettuce:!1,bacon:!1,cheese:!1,meat:!1};for(e in r)a[e]=r[e]<=0;var o=null!==this.props.err?n.a.createElement("p",null,"Ingredients can't be loaded!"):n.a.createElement(U,null);return this.props.ing&&(t=n.a.createElement(B,{ingredients:this.props.ing,purchaseCancel:this.purchaseHandler,purchaseContinue:this.purchaseContineHandler,price:this.props.prc}),o=n.a.createElement(n.a.Fragment,null,n.a.createElement(E,{ingredients:this.props.ing}),n.a.createElement(C,{ingredientAdded:this.props.addHandler,ingredientRemoved:this.props.delHandler,disabled:a,price:this.props.prc,purchaseable:this.state.purchaseable,ordered:this.purchaseHandler,isAuth:this.props.isAuth}))),n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{show:this.state.purchasing,modalClosed:this.purchaseHandler},t),o)}}]),r}(n.a.Component),W)),ae=r(94),ne=r.n(ae),oe=r(67),ie=r.n(oe),ce=r(95),le=r.n(ce),se=r(96),ue=r.n(se),de=function(e){var t=e.height;return n.a.createElement("div",{className:ue.a.Logo},n.a.createElement("img",{src:le.a,alt:"Burger Builder",style:{height:t}}))},pe=r(97),me=r.n(pe),he=r(73),be=r.n(he),ge=r(36),fe=function(e){var t=e.link,r=e.children;return n.a.createElement("li",{className:be.a.NavigationItem},n.a.createElement(ge.b,{to:t,activeClassName:be.a.active,exact:!0},r))},Ee=function(e){var t=e.isAuthenticated;return n.a.createElement("ul",{className:me.a.NavigationItems},n.a.createElement(fe,{link:"/burger-builder"},"Burger Builder"),t?n.a.createElement(fe,{link:"/burger-builder/orders"},"Orders"):null,t?n.a.createElement(fe,{link:"/burger-builder/logout"},"Logout"):n.a.createElement(fe,{link:"/burger-builder/auth"},"Authenticate"))},ve=r(98),_e=r.n(ve),ye=function(e){var t=e.click;return n.a.createElement("div",{onClick:t,className:_e.a.DrawerToggle},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},Oe=function(e){var t=e.open,r=e.isAuth;return n.a.createElement("header",{className:ie.a.Toolbar},n.a.createElement(ye,{click:t}),n.a.createElement("div",{className:ie.a.Logo},n.a.createElement(de,null)),n.a.createElement("nav",{className:ie.a.DesktopOnly},n.a.createElement(Ee,{isAuthenticated:r})))},ke=r(53),Se=r.n(ke),Ce=function(e){var t=e.open,r=e.closed,a=e.isAuth,o=[Se.a.SideDrawer,Se.a.Close];return t&&(o=[Se.a.SideDrawer,Se.a.Open]),n.a.createElement(n.a.Fragment,null,n.a.createElement(N,{show:t,clicked:r}),n.a.createElement("div",{className:o.join(" ")},n.a.createElement("div",{className:Se.a.Logo},n.a.createElement(de,null)),n.a.createElement("nav",null,n.a.createElement(Ee,{isAuthenticated:a}))))},je=Object(F.b)((function(e){return{isAuthenticated:""!==e.auth.token}}))(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showSideDrawer:!1},e.sideDrawerCloseHandler=function(){e.setState({showSideDrawer:!1})},e.openDrawerHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(l.a)(r,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Oe,{open:this.openDrawerHandler,isAuth:this.props.isAuthenticated}),n.a.createElement(Ce,{open:this.state.showSideDrawer,closed:this.sideDrawerCloseHandler,isAuth:this.props.isAuthenticated}),n.a.createElement("main",{className:ne.a.Content},this.props.children))}}]),r}(n.a.Component)),Ie=r(99),we=r.n(Ie),Te=function(e){var t=e.ingredients,r=e.cancel,a=e.continueCheck;return n.a.createElement("div",{className:we.a.CheckoutSummary},n.a.createElement("h1",null,"We hope it tastes well!"),n.a.createElement("div",{style:{width:"100%",margin:"auto"}},n.a.createElement(E,{ingredients:t})),n.a.createElement(A,{btnType:"Danger",clicked:r},"CANCEL"),n.a.createElement(A,{btnType:"Success",clicked:a},"CONTINUE"))},Ne=r(15),De=r(100),xe=r.n(De),Re=r(30),Ae=r(66),Be=r(24),Le=r(104),He=r.n(Le),Ue=r(183),Fe=r(192),qe=r(112),Pe=r(186),Me=r(191),Ge=r(193),ze=r(188),We=r(68),Xe={orderBurger:function(e,t){return function(e,t){return function(){var r=Object(K.a)(Y.a.mark((function r(a){var n;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"PURCHASE_START"}),r.next=4,W.post("/orders.json?auth=".concat(t),e);case 4:n=r.sent,a(V(n.data.name,e)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),a({type:"PURCHASE_FAIL",error:r.t0}),console.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(e,t)},ingReset:function(){return J()},purReset:function(){return{type:"PURCHASE_RESET"}}},Ye=Object(F.b)((function(e){return{ingredients:{lettuce:e.burger.ingredients.lettuce,bacon:e.burger.ingredients.bacon,cheese:e.burger.ingredients.cheese,meat:e.burger.ingredients.meat},price:e.burger.price,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId,purchased:e.order.purchased}}),Xe),Ke=Object(Ue.a)((function(e){return Object(Fe.a)({root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)}})})),Je=Object(qe.a)({palette:{primary:We.a}}),Ve=Be.a({name:Be.c().required("Name Required"),email:Be.c().email().required("Email Required"),address:Be.c().required("Address Required"),city:Be.c().required("City Required"),zip:Be.c().required("Zip Code Required").min(5),delivery:Be.c().required("Delivery Speed Required")});var Qe=Ye(q((function(e){var t,r,a,o,i,c,l=e.order,s=e.orderBurger,u=e.ingReset,d=e.purReset,p=e.ingredients,m=e.price,h=e.loading,b=e.token,g=e.purchased,f=e.userId,E=Ke(),v=Object(Re.d)({resolver:Object(Ae.a)(Ve),mode:"all"}),_=v.register,y=v.handleSubmit,O=v.errors,k=v.control,S=v.formState;return g&&(u(),d(),l()),n.a.createElement(n.a.Fragment,null,h?n.a.createElement(U,null):n.a.createElement("form",{onSubmit:y((function(e){s({customer:{name:e.name,email:e.email,address:e.address,city:e.city,zip:e.zip},ingredients:p,price:m,delivery:e.delivery,userId:f},b)})),className:He.a.Input},n.a.createElement(Pe.a,{theme:Je},n.a.createElement(Me.a,{className:E.margin,type:"text",label:"Name",name:"name",inputRef:_,error:!!O.name,helperText:null===(t=O.name)||void 0===t?void 0:t.message,variant:"outlined"}),n.a.createElement(Me.a,{className:E.margin,type:"text",label:"Email",name:"email",inputRef:_,variant:"outlined",error:!!O.email,helperText:null===(r=O.email)||void 0===r?void 0:r.message}),n.a.createElement(Me.a,{className:E.margin,type:"text",label:"Address",name:"address",inputRef:_,variant:"outlined",error:!!O.address,helperText:null===(a=O.address)||void 0===a?void 0:a.message}),n.a.createElement(Me.a,{className:E.margin,type:"text",label:"City",name:"city",inputRef:_,variant:"outlined",error:!!O.city,helperText:null===(o=O.city)||void 0===o?void 0:o.message}),n.a.createElement(Me.a,{className:E.margin,label:"Zip",type:"text",name:"zip",inputRef:_,variant:"outlined",error:!!O.zip,helperText:null===(i=O.zip)||void 0===i?void 0:i.message}),n.a.createElement(Re.a,{as:n.a.createElement(Me.a,{label:"Delivery",className:E.margin,select:!0,variant:"outlined",error:!!O.delivery,helperText:null===(c=O.delivery)||void 0===c?void 0:c.message,value:""},n.a.createElement(Ge.a,{value:""}),n.a.createElement(Ge.a,{value:"fast"},"Fast"),n.a.createElement(Ge.a,{value:"slow"},"Slow")),name:"delivery",defaultValue:"",control:k}),n.a.createElement(ze.a,{color:"primary",type:"submit",size:"large",disabled:!S.isValid},"ORDER"))))}),W)),Ze=Object(F.b)(ee)(q(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1},e.orderHandler=function(){e.props.history.push("/burger-builder")},e}return Object(l.a)(r,[{key:"render",value:function(){var e=n.a.createElement(Qe,{order:this.orderHandler});return this.state.loading&&(e=n.a.createElement(U,null)),n.a.createElement("div",{className:xe.a.ContactData},n.a.createElement("h4",null,"Enter Your Contact Data"),e)}}]),r}(n.a.Component),W)),$e=Object(F.b)(ee)(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).cancelHandler=function(){e.props.history.goBack()},e.continueHandler=function(){e.props.history.replace("/burger-builder/checkout/contact-data")},e}return Object(l.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(Te,{ingredients:this.props.ing,cancel:this.cancelHandler,continueCheck:this.continueHandler}),n.a.createElement(Ne.b,{path:"".concat(this.props.match.url,"/contact-data"),component:Ze}))}}]),r}(n.a.Component)),et=r(108),tt=r.n(et),rt=function(e){var t=e.ingredients,r=e.totalPrice,a=[];for(var o in t)a.push({name:o,amount:t[o]});var i=a.map((function(e){var t=e.name,r=e.amount;return n.a.createElement("span",{key:t,style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",border:"1px solid #eee",padding:"5px"}},t," (",r,")")}));return n.a.createElement("div",{className:tt.a.Order},n.a.createElement("p",null,"Ingredients: ",i),n.a.createElement("p",null,"Price: ",r))},at={onFetchOrders:function(e){return function(e){return function(){var t=Object(K.a)(Y.a.mark((function t(r){var a,n,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"FETCH_ORDERS_START"}),t.prev=1,t.next=4,W.get("/orders.json?auth=".concat(e));case 4:for(o in a=t.sent,n=[],a.data)a.data[o].userId===localStorage.getItem("userId")&&n.push(Object(d.a)(Object(d.a)({},a.data[o]),{},{id:o}));r({type:"FETCH_ORDERS_SUCCESS",orders:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r({type:"FETCH_ORDERS_FAIL",error:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e)}},nt=Object(F.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token}}),at)(q(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.onFetchOrders(this.props.token)}},{key:"render",value:function(){var e,t=this.props.orders;return t.length>=1&&(e=t.map((function(e,t){return n.a.createElement(rt,{key:t,ingredients:e.ingredients,totalPrice:e.price})}))),this.props.loading&&(e=n.a.createElement(U,null)),n.a.createElement("div",null,e)}}]),r}(n.a.Component),W)),ot=r(28),it=r(189),ct=r(76),lt=r.n(ct),st=r(109),ut=r.n(st),dt=r(190),pt=Be.a({email:Be.c().email().required("Email Required"),password:Be.c().required("Password Required").min(6,"Password minimum length of 6 characters required."),passwordConfirmation:Be.c().oneOf([Be.b("password"),void 0],"Passwords must match")}),mt={onAuth:function(e,t,r){return function(e,t,r){return function(){var a=Object(K.a)(Y.a.mark((function a(n){var o,i,c,l;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n({type:"AUTH_START"}),!r){a.next=13;break}return a.next=5,M.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(z),{email:e,password:t,returnSecureToken:!0});case 5:o=a.sent,i=new Date((new Date).getTime()+1e3*o.data.expiresIn),localStorage.setItem("token",o.data.idToken),localStorage.setItem("expirationDate",i.toString()),localStorage.setItem("userId",o.data.localId),n(Q(o.data.idToken,o.data.localId)),a.next=22;break;case 13:return a.next=15,M.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(z),{email:e,password:t,returnSecureToken:!0});case 15:c=a.sent,l=new Date((new Date).getTime()+1e3*c.data.expiresIn),localStorage.setItem("token",c.data.idToken),localStorage.setItem("expirationDate",l.toString()),localStorage.setItem("userId",c.data.localId),n(Q(c.data.idToken,c.data.localId)),n($(c.data.expiresIn));case 22:a.next=27;break;case 24:a.prev=24,a.t0=a.catch(0),n({type:"AUTH_FAIL",error:a.t0});case 27:case"end":return a.stop()}}),a,null,[[0,24]])})));return function(e){return a.apply(this,arguments)}}()}(e,t,r)}},ht=Object(F.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuth:""!==e.auth.token}}),mt);var bt=Object(Ue.a)((function(e){return Object(Fe.a)({root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1),width:"80%"}})})),gt=Object(qe.a)({palette:{primary:ut.a}}),ft=ht((function(e){var t,r,o,i=e.onAuth,c=e.loading,l=e.error,s=e.isAuth,u=Object(a.useState)(!0),d=Object(ot.a)(u,2),p=d[0],m=d[1],h=bt(),b=Object(Re.d)({resolver:Object(Ae.a)(pt),mode:"all"}),g=b.handleSubmit,f=b.errors,E=b.formState,v=b.register,_=null;l&&(_=n.a.createElement("p",null,l.message));var y=null;s&&(y=n.a.createElement(Ne.a,{to:"/burger-builder"}));var O=n.a.createElement(Me.a,{className:h.margin,type:"password",label:"Password",name:"passwordConfirmation",inputRef:v,error:!!f.passwordConfirmation,helperText:null===(t=f.passwordConfirmation)||void 0===t?void 0:t.message,variant:"outlined",required:!0}),k=n.a.createElement("form",{onSubmit:g((function(e){i(e.email,e.password,p)})),className:lt.a.Input},n.a.createElement(it.a,{className:lt.a.Input2},_,y,n.a.createElement(dt.a,{variant:"h5"},p?"Sign Up":"Sign In"),n.a.createElement(Pe.a,{theme:gt},n.a.createElement(Me.a,{className:h.margin,type:"email",label:"Email",name:"email",inputRef:v,error:!!f.email,helperText:null===(r=f.email)||void 0===r?void 0:r.message,variant:"outlined",required:!0}),n.a.createElement(Me.a,{className:h.margin,type:"password",label:"Password",name:"password",inputRef:v,error:!!f.password,helperText:null===(o=f.password)||void 0===o?void 0:o.message,variant:"outlined",required:!0}),p?O:null,n.a.createElement(ze.a,{color:"primary",type:"submit",size:"large",disabled:!E.isValid},"SUBMIT"))),n.a.createElement("br",null),n.a.createElement(ze.a,{onClick:function(){m(!p)}},"SWITCH TO ",p?"SIGN IN":"SIGN UP"));return n.a.createElement(n.a.Fragment,null,c?n.a.createElement(U,null):k)})),Et={onLogout:function(){return Z()}},vt=Object(F.b)((function(e){return{}}),Et)(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return n.a.createElement(Ne.a,{to:"/burger-builder"})}}]),r}(n.a.Component)),_t={authCheck:function(){return function(e){var t=localStorage.getItem("token");if(t){var r=new Date(localStorage.getItem("expirationDate"));if(r<=new Date)e(Z());else{var a=localStorage.getItem("userId");e(Q(t,a)),e($((r.getTime()-(new Date).getTime())/1e3))}}else e(Z())}}},yt=Object(F.b)((function(e){return{isAuth:""!==e.auth.token}}),_t)(function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.props.authCheck()}},{key:"render",value:function(){var e=n.a.createElement(Ne.d,null,n.a.createElement(Ne.b,{path:"/burger-builder/auth",component:ft}),n.a.createElement(Ne.b,{path:"/burger-builder",exact:!0,component:re}),n.a.createElement(Ne.a,{to:"/burger-builder"}));return this.props.isAuth&&(e=n.a.createElement(Ne.d,null,n.a.createElement(Ne.b,{path:"/burger-builder/checkout",component:$e}),n.a.createElement(Ne.b,{path:"/burger-builder/orders",component:nt}),n.a.createElement(Ne.b,{path:"/burger-builder/logout",component:vt}),n.a.createElement(Ne.b,{path:"/burger-builder",exact:!0,component:re}),n.a.createElement(Ne.a,{to:"/burger-builder"}))),n.a.createElement("div",null,n.a.createElement(je,null,e))}}]),r}(n.a.Component)),Ot=r(44),kt=r(110),St=r(13),Ct={ingredients:{lettuce:0,bacon:0,cheese:0,meat:0},price:8,error:!1},jt={lettuce:.25,bacon:1,cheese:.75,meat:1.5},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INGREDIENT":return{ingredients:Object(d.a)(Object(d.a)({},e.ingredients),{},Object(St.a)({},t.key,e.ingredients[t.key]+1)),price:e.price+jt[t.key]};case"REM_INGREDIENT":return{ingredients:Object(d.a)(Object(d.a)({},e.ingredients),{},Object(St.a)({},t.key,e.ingredients[t.key]-1)),price:e.price-jt[t.key]};case"SET_INGREDIENTS":return Object(d.a)(Object(d.a)({},e),{},{ingredients:t.ingredients,error:!1});case"ERR_INGREDIENTS":return Object(d.a)(Object(d.a)({},e),{},{error:!0});default:return e}},wt=function(e,t){return Object(d.a)(Object(d.a)({},e),t)},Tt={orders:[],loading:!1,purchased:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PURCHASE_START":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"PURCHASE_FAIL":return e;case"PURCHASE_SUCCESS":var r=Object(d.a)(Object(d.a)({},t.orderData),{},{id:t.orderId});return Object(d.a)(Object(d.a)({},e),{},{orders:e.orders.concat(r),loading:!1,purchased:!0});case"PURCHASE_RESET":return wt(e,{purchased:!1});case"FETCH_ORDERS_START":return wt(e,{loading:!0});case"FETCH_ORDERS_SUCCESS":return wt(e,{orders:t.orders,loading:!1});case"FETCH_ORDERS_FAIL":return wt(e,{loading:!1});default:return e}},Dt=r(111),xt={token:"",userId:"",error:null,loading:!1},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(d.a)(Object(d.a)({},e),{},{error:null,loading:!0});case"AUTH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{token:t.idToken,userId:t.userId,error:null,loading:!1});case"AUTH_FAIL":return Object(d.a)(Object(d.a)({},e),{},{error:t.error,loading:!1});case"LOG_OUT":return Object(d.a)({},xt);default:return e}},At=Object(Ot.combineReducers)({burger:It,order:Nt,auth:Rt}),Bt=Object(Ot.createStore)(At,Object(kt.composeWithDevTools)(Object(Ot.applyMiddleware)(Dt.a)));i.a.render(n.a.createElement(F.a,{store:Bt},n.a.createElement(ge.a,null,n.a.createElement(yt,null))),document.getElementById("root"))},35:function(e,t,r){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__2US69",BreadTop:"BurgerIngredient_BreadTop__3Y4-R",Seeds1:"BurgerIngredient_Seeds1__J6vUJ",Seeds2:"BurgerIngredient_Seeds2__2Ylex",Meat:"BurgerIngredient_Meat__3flwI",Cheese:"BurgerIngredient_Cheese__3rOTJ",Lettuce:"BurgerIngredient_Lettuce__24-RC",Bacon:"BurgerIngredient_Bacon__1KK6n"}},53:function(e,t,r){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},59:function(e,t,r){e.exports={BuildControl:"BuildControl_BuildControl__O8649",Label:"BuildControl_Label__TQkTk",Less:"BuildControl_Less__3Ttg8",More:"BuildControl_More__1MY7B"}},67:function(e,t,r){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},70:function(e,t,r){e.exports={BuildControls:"BuildControls_BuildControls__1YmbS",OrderButton:"BuildControls_OrderButton___M-Du",enable:"BuildControls_enable__9xLsD"}},71:function(e,t,r){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},73:function(e,t,r){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},76:function(e,t,r){e.exports={Input:"Auth_Input__2LQ-q",Input2:"Auth_Input2__W6zPV"}},89:function(e,t,r){e.exports={Burger:"Burger_Burger__10T8F"}},90:function(e,t,r){e.exports={Modal:"Modal_Modal__1-5dN"}},91:function(e,t,r){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},92:function(e,t,r){e.exports={Loader:"Spinner_Loader__1twK-",load1:"Spinner_load1__1BXDX"}},94:function(e,t,r){e.exports={Content:"Layout_Content__PrDi6"}},95:function(e,t,r){e.exports=r.p+"static/media/burger-logo.b8503d26.png"},96:function(e,t,r){e.exports={Logo:"Logo_Logo__1N0xH"}},97:function(e,t,r){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},98:function(e,t,r){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__m405X"}},99:function(e,t,r){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__3PsXi"}}},[[120,1,2]]]);
//# sourceMappingURL=main.484d300a.chunk.js.map